Version 4
SHEET 1 1604 804
WIRE 480 -544 384 -544
WIRE 672 -544 544 -544
WIRE 384 -448 384 -544
WIRE 480 -448 384 -448
WIRE 672 -448 672 -544
WIRE 672 -448 560 -448
WIRE -320 -384 -368 -384
WIRE -128 -384 -240 -384
WIRE -32 -384 -128 -384
WIRE -800 -368 -880 -368
WIRE -512 -368 -720 -368
WIRE -128 -352 -128 -384
WIRE -624 -320 -736 -320
WIRE -32 -320 -32 -384
WIRE 272 -320 -32 -320
WIRE 384 -320 384 -448
WIRE 384 -320 352 -320
WIRE 448 -320 384 -320
WIRE 448 -304 448 -320
WIRE 480 -304 448 -304
WIRE 672 -288 672 -448
WIRE 672 -288 544 -288
WIRE 736 -288 672 -288
WIRE -128 -272 -128 -288
WIRE 480 -272 448 -272
WIRE -880 -256 -880 -368
WIRE -800 -256 -880 -256
WIRE -512 -256 -720 -256
WIRE 272 -256 -32 -256
WIRE 448 -256 448 -272
WIRE 448 -256 352 -256
WIRE 528 -240 528 -256
WIRE 704 -224 608 -224
WIRE 896 -224 768 -224
WIRE -1696 -208 -1744 -208
WIRE -1648 -208 -1696 -208
WIRE -1616 -208 -1648 -208
WIRE -624 -208 -736 -208
WIRE -1472 -192 -1472 -208
WIRE -1424 -192 -1472 -192
WIRE -880 -192 -880 -256
WIRE -880 -192 -944 -192
WIRE -320 -192 -368 -192
WIRE -128 -192 -240 -192
WIRE -32 -192 -32 -256
WIRE -32 -192 -128 -192
WIRE -2304 -176 -2304 -208
WIRE -1648 -176 -1648 -208
WIRE -1472 -176 -1472 -192
WIRE -1696 -160 -1696 -208
WIRE -128 -160 -128 -192
WIRE -880 -144 -880 -192
WIRE -800 -144 -880 -144
WIRE -512 -144 -720 -144
WIRE 608 -128 608 -224
WIRE 704 -128 608 -128
WIRE 896 -128 896 -224
WIRE 896 -128 784 -128
WIRE -1696 -96 -2032 -96
WIRE -1648 -96 -1696 -96
WIRE -1472 -96 -1648 -96
WIRE -624 -96 -736 -96
WIRE -128 -80 -128 -96
WIRE 160 -64 16 -64
WIRE 352 -64 240 -64
WIRE 448 -64 352 -64
WIRE -880 -32 -880 -144
WIRE -800 -32 -880 -32
WIRE -512 -32 -720 -32
WIRE 352 -32 352 -64
WIRE 448 0 448 -64
WIRE 496 0 448 0
WIRE 608 0 608 -128
WIRE 608 0 576 0
WIRE 672 0 608 0
WIRE -624 16 -736 16
WIRE 672 16 672 0
WIRE 704 16 672 16
WIRE 896 32 896 -128
WIRE 896 32 768 32
WIRE 960 32 896 32
WIRE 352 48 352 32
WIRE 704 48 672 48
WIRE 496 64 448 64
WIRE 672 64 672 48
WIRE 672 64 576 64
WIRE 752 80 752 64
WIRE 160 128 16 128
WIRE 352 128 240 128
WIRE 448 128 448 64
WIRE 448 128 352 128
WIRE 352 160 352 128
WIRE 352 240 352 224
WIRE -1152 480 -1264 480
WIRE -336 480 -448 480
WIRE -1264 512 -1264 480
WIRE -448 512 -448 480
WIRE -1152 672 -1264 672
WIRE -336 672 -448 672
WIRE -1264 704 -1264 672
WIRE -448 704 -448 672
FLAG -784 -320 0
FLAG -784 -208 0
FLAG -784 -96 0
FLAG -784 16 0
FLAG -2304 -96 0
FLAG -624 -320 V_0_deg
FLAG -624 -208 V_90_deg
FLAG -624 -96 V_180_deg
FLAG -624 16 V_270_deg
FLAG -1264 592 0
FLAG -1152 480 V_0_deg
FLAG -1264 784 0
FLAG -1152 672 V_90_deg
FLAG -448 592 0
FLAG -336 480 V_180_deg
FLAG -448 784 0
FLAG -336 672 V_270_deg
FLAG -512 -368 00
FLAG -512 -144 11
FLAG 352 240 0
FLAG 352 48 0
FLAG -512 -256 01
FLAG -512 -32 10
FLAG -128 -80 0
FLAG -128 -272 0
FLAG -368 -192 11
FLAG -368 -384 00
FLAG 16 128 10
FLAG 16 -64 01
FLAG 688 576 0
FLAG 688 496 +4.5
FLAG 720 0 +4.5
FLAG 720 64 0
FLAG 496 -320 +4.5
FLAG 496 -256 0
FLAG 528 -240 +4.5
FLAG 752 80 +4.5
FLAG 736 -288 vout
FLAG -2304 -208 vin
FLAG -1888 -208 vin
FLAG -2096 -96 0
FLAG -944 -192 Butter-LOW
FLAG -1424 -192 Butter-LOW
SYMBOL sw -816 -368 R270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw -816 -256 R270
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw -816 -144 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw -816 -32 R270
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL voltage -2304 -192 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 118 56 VBottom 2
WINDOW 39 90 64 VBottom 2
SYMATTR InstName V1
SYMATTR Value SINE(2.25 1u {RF_Freq})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=50
SYMBOL voltage -1264 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 0.001p 0.001p {SW_time} {4*SW_time})
SYMBOL voltage -1264 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 1 {SW_time} 0.001p 0.001p {SW_time} {4*SW_time})
SYMBOL voltage -448 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 {2*SW_time} 0.001p 0.001p {SW_time} {4*SW_time})
SYMBOL voltage -448 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 1 {3*SW_time} 0.001p 0.001p {SW_time} {4*SW_time})
SYMBOL cap 368 32 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value {C_Sample}
SYMBOL cap 368 224 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value {C_Sample}
SYMBOL res 256 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL res 256 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 0.1
SYMBOL cap -112 -288 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value {C_Sample}
SYMBOL cap -112 -96 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value {C_Sample}
SYMBOL res -224 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1
SYMBOL res -224 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL res 800 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 592 -16 R90
WINDOW 0 13 112 VBottom 2
WINDOW 3 24 58 VTop 2
SYMATTR InstName R6
SYMATTR Value 0.1
SYMBOL res 592 48 R90
WINDOW 0 46 3 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 0.1
SYMBOL res 576 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 5k
SYMBOL res 368 -336 R90
WINDOW 0 13 112 VBottom 2
WINDOW 3 24 58 VTop 2
SYMATTR InstName R9
SYMATTR Value 0.1
SYMBOL res 368 -272 R90
WINDOW 0 46 3 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 0.1
SYMBOL voltage 688 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 4.5
SYMBOL OpAmps\\ADA4805 512 -288 R0
WINDOW 3 64 27 Left 2
SYMATTR InstName U1
SYMBOL OpAmps\\ADA4805 736 32 R0
WINDOW 3 43 29 Left 2
SYMATTR InstName U2
SYMBOL cap 544 -560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.35n
SYMBOL cap 768 -240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 0.35n
SYMBOL res -1488 -192 R0
SYMATTR InstName R11
SYMATTR Value 50
SYMBOL cap -1824 -224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 470p
SYMBOL cap -1680 -96 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C8
SYMATTR Value 470p
SYMBOL cap -1616 -192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C9
SYMATTR Value 470p
SYMBOL ind -1840 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 620n
SYMBOL ind -1664 -192 R0
SYMATTR InstName L2
SYMATTR Value 560n
SYMBOL ind -1568 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 620n
SYMBOL cap -2032 -112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 0.1µ
TEXT -1288 64 Left 2 !.model MYSW SW(Vt=0.9 Vh=0 Ron=1 Roff=100G)
TEXT -296 280 Left 2 !.tran 0 6m 5.5m 10u\n;.noise V(V_outQ) V3 dec 10 10 100meg\n;.op
TEXT -1288 104 Left 2 !.param RF_freq=10Meg LO_freq={RF_freq - Audio_freq} LO_period={1/LO_freq} SW_time={LO_period/4}
TEXT 400 216 Left 2 !.param C_Sample=8.2n
TEXT -1304 368 Left 4 ;Signals for voltage-controlled switches \nused to simulate our multiplexer.
TEXT 504 376 Left 4 ;Power Connections
TEXT -2312 -320 Left 2 ;RF signal in
TEXT -1112 -496 Left 4 ;Multiplexer
TEXT -312 224 Left 4 ;Simulation Control
TEXT -296 424 Left 2 !;step dec param Audio_freq 1000 10000000 1
TEXT -296 392 Left 2 !.param Audio_freq=48000
TEXT 472 128 Left 2 ;R2 and R3 to emulate PE1NNZ
TEXT 1088 368 Left 4 ;Measurement
TEXT 1088 408 Left 2 !.meas vout_max max V(vout)\n.meas vout_min min V(vout)\n.meas vout_vpp param vout_max-vout_min\n.meas vin_max max V(vin)\n.meas vin_min min V(vin)\n.meas vin_vpp param vin_max-vin_min\n.meas amp_gain PARAM -vout_vpp/vin_vpp
TEXT -200 -688 Left 2 ;Given the resistor values for the op-amp biasing, one would expect the gain to be A = 100k/52 = 2000.\nHowever, we see an apparent gain of A = 500 which is thanks to the average voltage being 1/4 of the\nactual input voltage due to the signal average from the switching. We do in fact have a gain of 2000,\nbut the input to the amplifier is 1/4 what we would have expected.
TEXT -1904 -288 Left 2 ;Quick Butterworth BPF 5-16
